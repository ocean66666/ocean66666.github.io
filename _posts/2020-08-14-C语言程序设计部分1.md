---
title: C语言程序设计部分1
tags:
  - C语言

---


- [ C语言程序设计](#head1)
	- [ 一、C程序的基本结构](#head2)
		- [ 1、C语言的特点以及C程序的基本组成](#head3)
	- [ 二、常量、变量和表达式](#head4)
		- [ 1、常量：数字常量、字符常量和字符串字面量](#head5)
		- [ 2、变量：变量名和变量类型，变量的赋值和类型转换](#head6)
			- [ 整形](#head7)
			- [ 浮点型P50](#head8)
			- [ 类型转换](#head9)
		- [ 3、算术表达式：算术运算符、增量（自增）和减量（自减）运算符、位运算和复合赋值运算符](#head10)
		- [ 4、强制类型转换](#head11)
		- [ 5、数据输入/输出函数](#head12)
		- [ 6、常量的符号表示方法：常量宏、枚举常量](#head13)
	- [ 三、条件语句和开关语句](#head14)
		- [ 1、关系运算符和逻辑运算符](#head15)
			- [ 关系运算符](#head16)
			- [ 逻辑运算符](#head17)
		- [ 2、运算符的优先级](#head18)
		- [ 3、逻辑表达式](#head19)
		- [ 4、条件语句：条件、复合语句、条件语句的嵌套和级联、条件运算符和条件表达式](#head20)
		- [ 5、switch语句](#head21)
	- [ 四、循环语句和goto语句](#head22)
		- [1、while语句、for语句和do while语句](#head23)
			- [ while](#head24)
			- [do while](#head25)
			- [ for](#head26)
		- [ 2、循环语句的选择和使用](#head27)
		- [ 3、逗号表达式](#head28)
		- [ 4、循环语句的嵌套](#head29)
		- [ 5、循环中的非常规控制（break和contiunue）、goto语句](#head30)
			- [ break](#head31)
			- [ continue](#head32)
			- [ goto](#head33)
	- [ 五、函数](#head34)
		- [ 1、函数的基本概念](#head35)
		- [ 2、函数的调用、结构和定义](#head36)
			- [ 函数的调用](#head37)
		- [ 3、函数的调用关系和返回值](#head38)
			- [ 调用关系](#head39)
			- [ 返回值](#head40)
		- [ 4、局部变量和全局变量](#head41)
			- [ 作用域](#head42)
			- [ 局部变量](#head43)
			- [ 全局变量](#head44)
		- [ 5、函数参数的传递](#head45)
			- [ 1、形式参数和实际参数](#head46)
			- [ 2、实参和形参间的数据传递](#head47)
		- [ 6、标准库函数](#head48)
		- [ 7、递归函数](#head49)
	- [ 六、数组](#head50)
		- [ 1、一维数组：定义和初始化、复制、数组参数](#head51)
			- [ 定义](#head52)
			- [ 初始化](#head53)
			- [ 复制](#head54)
		- [ 2、字符串和字符数组](#head55)
		- [ 3、标准字符串函数](#head56)
		- [ 4、二维数组：定义、引用、访问、数组参数](#head57)


# <span id="head1"> C语言程序设计</span>

## <span id="head2"> 一、C程序的基本结构</span>

### <span id="head3"> 1、C语言的特点以及C程序的基本组成</span>

**特点**

- 1、语言简洁、紧凑，使用方便、灵活。
- 2、运算符丰富
- 3、数据类型丰富
- 4、具有结构化的控制语句，如if...else,while,do...while,swich,for语句
- 5、语法限制不太严格，程序设计自由度大
- 6、允许直接访问物理地址，能进行位(bit)操作，能实现汇编语言的大部分功能，可以直接对硬件进行操作
- 7、用C语言编写的程序可移植性好
- 8、生成目标代码质量高，程序执行效率高



**C程序的基本组成**

- 一个程序由一个或多个源程序文件组成

> 预处理指令
>
> 全局声明
>
> 函数定义

- 函数

> 函数首部
>
> 函数体：声明部分，执行部分

- 程序总是从main函数开始执行的
- 程序中要求计算机完成的操作是由函数中的C语句完成的
- 在每个数据声明和语句的最后必须有一个分号
- C语言本身不提供输入输出语句
- 程序应当包含注释



## <span id="head4"> 二、常量、变量和表达式</span>

### <span id="head5"> 1、常量：数字常量、字符常量和字符串字面量</span>

- 整型常量
- 实型常量
- 字符常量

> 普通字符
>
> 转义字符，如 \ ' 为输出一个‘，\n换行，P40

- 字符串常量
- 符号常量

> 用#define指令，指定用一个符号名称代表一个常量，如：
>
> #define  PI  3.14

### <span id="head6"> 2、变量：变量名和变量类型，变量的赋值和类型转换</span>

#### <span id="head7"> 整形</span>

- 常变量

> const int a=3;
>
> 定义a为一个整型变量，指定其值为3，而且在变量存在期间其值不能改变。
>
> 可以说，常变量是具有名字的不变量，而常量是没有名字的不变量。
>
> 有名字便于在程序中被引用

- 基本整型（int）

> 两个字节

> 范围：-32768~32767

- 短整型（short int）

> 两个字节
>
> 范围：-32768~32767

- 长整型（long int）

> 4个字节
>
> 范围：-2^31~2^31-1，即-2147483648~2147483647

- 双长整型(long long int)

> 8个字节

- 无符号型

> unsigned int：0~32767
>
> unsigned short:0~2^16-1
>
> unsigned long:0~2^32-1
>
> unsigned long long:0~2^64-1

#### <span id="head8"> 浮点型P50</span>

- 单精度浮点型（float）

提供7位有效数字

- 双精度浮点型（double）

提供16位有效数字

- 长双精度（long double）

提供16位有效数字

#### <span id="head9"> 类型转换</span>

％d有符号整型int输出，％ld长整型输出，

％o以无符号八进制数形式输出整数，

％x以无符号十六进制数形式输出整数，

％u以十进制数输出unsigned型int数据(无符号数)。

％c用来输出一个字符，

％s用来输出一个字符串，

％f用来输出实数，以float浮点型小数形式输出，

%m.nf：输出共占m列，其中有n位小数，若数值宽度小于m左端补空格。

％e以指数形式输出实数，

％g根据大小自动选f格式或e格式，且不输出无意义的零。

%p 指针，也就是指针指向的地址

例如：

```c
#include<stdio.h>
int main(){
    float PI = 3.14159;
    int s1, r = 5;
    double s2;
    s1 = r * r * PI;
    s2 = r * r * PI;
    printf("s1=%d, s2=%f\n", s1, s2);

    return 0;
}
```

**输出指定长度**

```
1. 输出指定长度的字符串,str_len为指定的长度：
    printf("%.*s\n", str_len, str); 
2. 输出指定长度的字符串, 超长时不截断, 不足时右对齐:
    printf("%ns", str);             --n 为指定长度的10进制数值

3. 输出指定长度的字符串, 超长时不截断, 不足时左对齐:
    printf("%-ns", str);            --n 为指定长度的10进制数值

4. 输出指定长度的字符串, 超长时截断, 不足时右对齐:
    printf("%n.ms", str);           --n 为最终的字符串输出长度
                                    --m 为从参数字符串中取出的子串长度

5. 输出指定长度的字符串, 超长时截断, 不足时左对齐是:
    printf("%-n.ms", str);          --n 为最终的字符串输出长度
                                    --m 为从参数字符串中取出的子串长度
```

### <span id="head10"> 3、算术表达式：算术运算符、增量（自增）和减量（自减）运算符、位运算和复合赋值运算符</span>

- 标识符

> 用来对变量、符号常量名、函数、数组、类型等命名的有效字符序列统称为**标识符**。
>
> C语言规定标识符只能由字母、数字和下划线组成，且第一个字符必须是字母或下划线。例如：
>
> sum_average,_total,Class,day,BASIC

- 算术运算符

+,-,*,/,%

- 增量（自增）和减量（自减）运算符

i++,++i

i--,--i

> i++是先使用i的值，再+1；++i是先+1，再使用i的值

- 位运算

1、&位逻辑与

> 例如：9&5可写算式如下： 00001001 (9的二进制补码)&00000101 (5的二进制补码)　00000001 (1的二进制补码)可见9&5=1。

2、|位逻辑或

> 例如：9|5可写算式如下： 00001001|00000101
> 00001101 (十进制为13)可见9|5=13

3、^位逻辑异或

> 例如9^5可写成算式如下： 00001001^00000101 00001100 (十进制为12)

4、~位逻辑反

> 例如～9的运算为： ~(0000000000001001)结果为：1111111111110110

5、>>右移

> 例如：设 a=15，a>>2　表示把000001111右移为00000011(十进制3)。 应该说明的是，对于有符号数，在右移时，符号位将随同移动。当为正数时， 最高位补0，而为负数时，符号位为1，最高位是补0或是补1 取决于编译系统的规定。

6、<<左移

> 例如： a<<4 指把a的各二进位向左移动4位。如a=00000011(十进制3)，左移4位后为00110000(十进制48)。由“<<”右边的数指定移动的位数，高位丢弃，低位补0。

- 复合赋值运算符

在赋值符”=“之前加上其他运算符，可以构成复合的运算符，例如：

a+=3	等价于a=a+3

x*=y+8	等价于x=x *(y+8)

x%=3	等价于x=x%3

- 赋值表达式

a=(b=5)

意为先把5赋值给b，再把b赋值给a

### <span id="head11"> 4、强制类型转换</span>

(type_name)  expression

其中`type_name`为新类型名字，`expression`为表达式。例如：

```C
(float) a;  //将变量 a 转换为 float 类型
(int)(x+y);  //把表达式 x+y 的结果转换为 int 整型
(float) 100;  //将数值 100（默认为int类型）转换为 float 类型
```

### <span id="head12"> 5、数据输入/输出函数</span>

scanf

printf

putchar("a"):向显示器输入一个字符a。

getchar():向计算机输入一个字符

例如：

```c
#include<stdio.h>
int main()
{
    char a;
    a=getchar();
    putchar(a);
    return 0;
}
```

### <span id="head13"> 6、常量的符号表示方法：常量宏、枚举常量</span>

- 常量宏

如#define

#undef   在后面取消以前定义的宏定义

```c
#include <stdio.h>
int main( void )
{
#define MAX 200
    printf("MAX= %d\n",MAX);
#undef MAX
#define MAX 300
    printf("MAX= %d\n",MAX);
    return 0;
}
```

- 枚举变量

enum

```c
#include<stdio.h>
 
enum DAY
{
      MON=1, TUE, WED, THU, FRI, SAT, SUN		//这些叫枚举常量
};
 
int main()
{
    enum DAY day; //定义枚举变量
    day = WED;
    printf("%d",day);
    return 0;
}

//控制台输出3
```

应用例子：

```c
#include <stdio.h>
#include <stdlib.h>
int main()
{
 
    enum color { red=1, green, blue };
 
    enum  color favorite_color;
 
    /* ask user to choose color */
    printf("请输入你喜欢的颜色: (1. red, 2. green, 3. blue): ");
    scanf("%d", &favorite_color);
 
    /* 输出结果 */
    switch (favorite_color)
    {
    case red:
        printf("你喜欢的颜色是红色");
        break;
    case green:
        printf("你喜欢的颜色是绿色");
        break;
    case blue:
        printf("你喜欢的颜色是蓝色");
        break;
    default:
        printf("你没有选择你喜欢的颜色");
    }
 
    return 0;
}
```

## <span id="head14"> 三、条件语句和开关语句</span>

### <span id="head15"> 1、关系运算符和逻辑运算符</span>

#### <span id="head16"> 关系运算符</span>

C语言提供6种关系运算符：

1、<

2、<=

3、>

4、>=

5、==

6、!=

#### <span id="head17"> 逻辑运算符</span>

1、&&

2、||

3、！

### <span id="head18"> 2、运算符的优先级</span>

由低到高排列为：

赋值运算符，&&和||，关系运算符，算术运算符，！（非）

### <span id="head19"> 3、逻辑表达式</span>

1、若a=4，则!a=0

2、若a=4,b=5，则a&&b=1，因为a和b均为非0，被认为是”真“。

3、若a=4,b=5，则a||b=1

4、若a=4,b=5，则     ！a||b=1

### <span id="head20"> 4、条件语句：条件、复合语句、条件语句的嵌套和级联、条件运算符和条件表达式</span>

有一种if语句，当被判别的表达式的值为”真“或”假“时，都执行一个赋值语句且向同一变量赋值。如：

```c
if(a>b)
    max=a;
else
    max=b;
```

此语句可以改写为：

```c
max=(a>b)?a:b;
```

### <span id="head21"> 5、switch语句</span>

例如：

```c
#include<stdio.h>
int main(){
	char grade;
    scanf("%c",&grade);
    printf("Your score:");
    switch(grade)
    {
    	case:'A':printf("85~100\n");break;
        case:'B':printf("70~84\n");break;
        case:'C':printf("60~69\n");break;
        case:'D':printf("<60\n");break;
        default:printf("enter data error!\n");
    }
    return 0;
}
```

## <span id="head22"> 四、循环语句和goto语句</span>

### <span id="head23">1、while语句、for语句和do while语句</span>

#### <span id="head24"> while</span>

只要当循环条件表达式为真，就执行循环体

直到while内为假，不执行循环体

```c
//计算从1加到100
#include<stdio.h>
int main(){
    int i=1,sum=0;
	while(i<=100)
    {
        sum+=i;
        i++;
    }
    printf("sum=%d\n",sum);
    return 0;
}
```

#### <span id="head25">do while</span>

先执行循环体，再检查条件是否成立，若成立，再执行循环体

```c
//输出从1到100
int i=1;
do
{
	printf("%d",i++);    
}
while(i<=100);
```

#### <span id="head26"> for</span>

```c
//输出从1到100
for(循环变量赋初值;循环条件;循环变量增值);
for(int i=1;i<=100;i++)
{
    printf("%d",i);
}
```

### <span id="head27"> 2、循环语句的选择和使用</span>

**1．三种循环的比较**

三种循环都可以用来处理同一问题。一般情况下，它们可以相互代替。下面是这三种循环语句的比较：

while和 do…while循环，只在 while后面指定循环条件，在循环体中应包含使循环趋于结束的语句（如 i++，或者 i=i+1等）。for语句中的第 3个表达式中包含使循环趋于结束的操作，设置可以将循环体中的操作全部放在表达式 3中。因此 for语句的功能更强，凡用 while循环能完成的，用 for循环都能实现。

用 while和 do…while循环时，循环变量初始化的操作应在 while和 do…while语句之前完成。而 for语句可以在表达式 1中实现循环变量的初始化。 while循环、do…while循环和 for循环，都可以用 break语句跳出循环，用 continue语句结束本次循环。 

**2．三种循环的使用原则**

for语句是 C语言中使用最灵活的循环语句，它可以用于循环次数已知的情况，还能用于循环次数不确定的情况，但要给出循环结束条件。 while语句是一种先判断后执行的语句，如果开始不能满足条件，则可以一次都不执行循环体。 do…while语句用法和 while语句相似，也是要求先给出循环条件，经过判断后，根据循环条件是否满足，来确定是否执行循环体。

### <span id="head28"> 3、逗号表达式</span>

一般形式：(表达式1,表达式2,表达式3,……表达式n)；

从左到右依次求值 最后一个表达式就是整个逗号表达式的值

```c
#include<stdio.h>
int main(){
    int a=1,b=2,c=3,d;
    d=(a=a*b,c=b*b,a*c);
    printf("%d\n",d);
    printf("%d %d\n",a,c);
    return 0;
}
```

输出结果：

8

2 4

### <span id="head29"> 4、循环语句的嵌套</span>

P120

就是一个循环体内又包含另一个完整的循环结构

### <span id="head30"> 5、循环中的非常规控制（break和contiunue）、goto语句</span>

#### <span id="head31"> break</span>

	用break语句可以使流程跳出switch结构，继续执行switch语句下面的一个语句。break还可以用来从循环体内跳出循环体，即提前结束循环，接着执行循环下面的语句

#### <span id="head32"> continue</span>

	有时并不希望终止整个循环的操作，而只希望提前结束本次循环，而接着执行下次循环。这时可以用continue语句。

#### <span id="head33"> goto</span>

```c
goto lable;
.
..
lable:statement;
```

例子：

```c
#include<stdio.h>
int main(){
    int a=10;
    LOOP:do
    {
        if(a==15)
        {
            a++;
            goto LOOP;
        }
        printf("a的值：%d",a);
        a++;
    }while(a<20);
    return 0;
}
```

当上面的代码被编译和执行时，它会产生下列结果：![2020-08-10-7](/assets/image/2020-08-10-7.jpg)

## <span id="head34"> 五、函数</span>

### <span id="head35"> 1、函数的基本概念</span>

在设计一些较大的程序时，往往把它分为若干个程序模块，每一个模块包括一个或多个函数，每个函数实现一个特定的功能。

### <span id="head36"> 2、函数的调用、结构和定义</span>

#### <span id="head37"> 函数的调用</span>

函数分为两类：

- 有参函数
- 无参函数，如下面的函数

需要先在main函数中声明

```c
#include<stdio.h>
int main(){
	int printstar();	//函数声明
    printstar();
    return 0;
}
void printstar(){
    printf("*******");
}
```



### <span id="head38"> 3、函数的调用关系和返回值</span>

#### <span id="head39"> 调用关系</span>

（1）在定义函数中指定的形参，在未出现函数调用时，他们并不占用内存中的存储单元。在发生函数调用时，函数max的形参才能临时分配存储单元。

（2）将实参的值传递给形参。

（3）在执行函数期间，由于形参已经有值，就可以利用形参进行有关的计算。

（4）通过return语句将函数值带回到主调函数。

（5）调用结束，形参单元被释放。

#### <span id="head40"> 返回值</span>

（1）函数的返回值是通过函数中的return语句获得的。

（2）函数值的类型

> int
>
> char
>
> double

（3）在定义函数时指定的函数类型一般应该和return语句中的表达式类型一致

（4）对于不带回值的函数，应当用定义函数为“void类型”。

### <span id="head41"> 4、局部变量和全局变量</span>

#### <span id="head42"> 作用域</span>

每个变量都有属于它的作用域，就是这些变量在什么范围内有效。按作用域范围可把变量分为局部变量和全局变量。

#### <span id="head43"> 局部变量</span>

局部变量出现在三个地方：

- 在函数的开头定义的变量
- 在函数内的复合语句内定义
- 形式参数

#### <span id="head44"> 全局变量</span>

一个源文件可以包含若干个函数，在函数之外定义的变量称为全局变量。全局变量可以为本文件中其他的函数所共用，它的有效范围从定义变量的开始位置到本源文件结束。

- 全局变量在程序的全部执行过程中都占用存储单元，而不是仅在需要时才开辟单元。
- 它使函数的通用性降低，如果在函数中引用了全局变量，那么执行情况会受到有关的外部变量的影响。如果将一个函数移到另一个文件中，还要考虑把有关的外部变量及其值一起弄过去。
- 使用全局变量过多，会降低程序的清晰性，人们往往难以清楚的判断出每个瞬间各个外部变量的值。由于在各个函数执行时都可能改变外部变量的值，程序容易出错。

### <span id="head45"> 5、函数参数的传递</span>

#### <span id="head46"> 1、形式参数和实际参数</span>

在调用有参函数时，主调函数和被调用函数之间有数据传递关系。在定义函数时函数名后面括号内的变量名称为“形式参数”或“虚拟参数”，在主调函数中调用一个函数时，函数名后面括号中的参数称为“实际参数”。实际参数通常可以是常量，变量或表达式。

#### <span id="head47"> 2、实参和形参间的数据传递</span>

在调用函数过程中，系统会把实参的值传递给被调用函数的形参。

### <span id="head48"> 6、标准库函数</span>

是由系统提供的，用户不必自己定义，可直接使用它们。

### <span id="head49"> 7、递归函数</span>

在调用一个函数的过程中又出现直接或间接地调用该函数本身，称为函数的递归调用。

递归的优点：

递归为某些编程问题提供了最简单的解决方案。

递归的缺点：

一些递归算法会快速消耗计算机的内存资源。另外，不方便阅读和维护。



## <span id="head50"> 六、数组</span>

### <span id="head51"> 1、一维数组：定义和初始化、复制、数组参数</span>

#### <span id="head52"> 定义</span>

int a[10];

#### <span id="head53"> 初始化</span>

int a[5]={1,2,3,4,5};

或int a[]={1,2,3,4,5};

#### <span id="head54"> 复制</span>

```c
//展示函数体
void copy(char* dest,char* ch)
{
    int i = 0;
    while(ch[i])
    {
        dest[i] = ch[i];
        i++;
    }
    dest[i] = 0;
}
```



### <span id="head55"> 2、字符串和字符数组</span>

char c[]={"I am Happy!"};

char a[4]={'a','b','c','d'};

### <span id="head56"> 3、标准字符串函数</span>

P158

```c
1、puts()函数---输出字符串的函数
char str[]={"hello"};
puts(str);

2、gets()函数---输入字符串的函数
作用是从终端输入一个字符串到字符数组，并且得到一个函数值
gets(str)
    
3、strcat()函数---字符串连接函数
strcat(str1,str2);
意思为把字符串str2接在str1后面
    
4、strcpy()和strncpy()函数---字符串复制函数
char str1[10],str2[]="China";
strcpy(str1,str2);

5、strcmp()函数---字符串比较函数
strcmp(str1,str2);
若全部字符相同，则认为两个字符串相同，函数值为0
若参加比较的两个字符串都是由英文字母组成，则有一个简单的规律：在英文字典中位置在后面的为”大“
若str1>str2，则函数值为一个正整数
若str1<str2，则函数值为一个负整数

6、strlen()函数---测字符串长度的函数
strlen(str);

7、strlwr()函数---转换为小写的函数
    
8、strupr()函数---转换为大写的函数
```



### <span id="head57"> 4、二维数组：定义、引用、访问、数组参数</span>

float pay[3] [6];


---
title: C语言程序设计部分2
tags:
  - C语言

---




### <span id="head9"> 5、指向二维数组的指针、多重指针和指针数组</span>

二维数组a的有关指针：

a[3] [4]={{1,3,5,7},{9,11,13,15},{17,19,21,23}};

| 表示形式                          | 含义                                        | 值             |
| --------------------------------- | ------------------------------------------- | -------------- |
| a                                 | 二维数组名，指向一维数组a[0]，即0行起始地址 | 2000           |
| a[0], *(a+0), *a                  | 0行0列元素地址                              | 2000           |
| a+1,&a[1]                         | 1行起始地址                                 | 2016           |
| a[1],*(a+1)                       | 1行0列元素a[1] [0]的地址                    | 2016           |
| a[1]+2,*(a+1)+2,&a[1] [2]         | 1行2列元素a[1] [2]的地址                    | 2024           |
| *(a[1]+2), *( * (a+1)+2),a[1] [2] | 1行2列元素a[1] [2]的值                      | 是元素值，为13 |

### <span id="head10"> 6、函数指针</span>

如果在程序中定义了一个函数，在编译时会把函数的源代码转换为可执行代码并分配一段存储空间。这段内存空间有一个起始地址，也成为函数的入口地址。每次调用函数时都从该地址入口开始执行此段函数代码。函数名代表函数的起始地址，调用函数时，从函数名得到函数的起始地址，并执行函数代码。

```c
#include<stdio.h>
int main(){
    int max(int,int);	//函数声明
    int (*p)(int,int);	//定义指向函数的指针变量p
    int a,b,c;
    p=max;				//使p指向max函数
    printf("please enter a and b:");
    scanf("%d,%d",&a,&b);
    c=(*p)(a,b);		//通过指针变量调用max函数
    printf("a=%d\nb=%d\nmax=%d\n",a,b,c);
    return 0;
}
int max(int x,int y){	//定义max函数
    int z;
    if(x>y)
        z=x;
    else
        z=y;
    return z;
}
```

1. 定义指向函数的指针变量，并不意味着这个指针变量可以指向任何函数，它只能指向在定义时指定的类型的函数。
2. 如果要用指针调用函数，必须先使指针变量指向该函数。
3. 在给函数指针变量赋值时，只须给出函数名而不必给出参数。
4. 用函数指针变量调用函数时，只须将（*p）代替函数名即可，在（ *p）之后的括号中根据需要写上实参。
5. 对指向函数的指针变量不能进行算术运算。如p+n,p-n等运算都是无意义的。
6. 用函数名调用函数，只能调用所指定的一个函数，而通过指针变量调用函数比较灵活，可以根据不同情况先后调用不同的函数。

**返回指针值的函数：**

```c
#include<stdio.h>
int main(){
    float score[] [4]={{60,70,80,90},{56,89,67,88},{34,78,90,66}};
    float *search(float (*pointer)[4],int n);
    float *p;
    int i,k;
    printf("enter the number of students:");
    scanf("%d",&k);
    printf("The score of NO.%d are:\n",k);
    p=search(score,k);
    for(i=0;i<4;i++)
        printf("%5.2f\t",*(p+i));
    printf("\n");
    return 0;
}
float *search(float (*pointer)[4],int n){
    float *pt;
    pt+=*(pointer+n);
    return pt;
}
```

